<h1>Peers <md-button ng-click="$ctrl.refresh()">Refresh</md-button></h1>
<div>
  <md-table-container>
    <table md-table>
      <tbody md-body>
        <thead md-head>
          <tr md-row>
            <th md-column>
              number
            </th>
            <th md-column>
              label
            </th>
            <th md-column>
              publicHostname
            </th>
            <th md-column>
              privateHostname
            </th>
            <th md-column>
              latestBlockHeight
            </th>
            <!-- <th md-column>
              blocks/min
            </th> -->
            <th md-column>
              previousBlockHash
            </th>
            <th md-column>
              blockHash
            </th>
            <th md-column>
              totalEvents
            </th>
            <th md-column>
              consensusEvents
            </th>
            <th md-column>
              outstandingEvents
            </th>
            <th md-column>
              mergeEvents
            </th>
            <th md-column>
              merge %
            </th>
            <th md-column>
              events/sec
            </th>
            <th md-column>
              Mongo
            </th>
            <th md-column>
              Log
            </th>
          </tr>
        </thead>
        <tr md-row ng-repeat="peer in $ctrl.collection.peers">
          <td md-cell>
            {{$index + 1}}
          </td>
          <td md-cell>
            {{peer.label}}
          </td>
          <td md-cell>
            {{peer.publicHostname}}
          </td>
          <td md-cell>
            {{peer.privateHostname}}
          </td>
          <td md-cell>
            {{peer.status.latestSummary.eventBlock.block.blockHeight}}
          </td>
          <!-- <td md-cell>
            {{$ctrl.blocksPerMinute(peer.latestBlock.blockHeight, peer.startTime)}}
          </td> -->
          <td md-cell>
            {{peer.status.latestSummary.eventBlock.block.previousBlockHash.substr(-5)}}
          </td>
          <td md-cell>
            {{peer.status.latestSummary.eventBlock.meta.blockHash.substr(-5)}}
          </td>
          <td md-cell>
            {{peer.status.events.total}}
          </td>
          <td md-cell>
            {{peer.status.events.total - peer.status.events.outstanding}}
          </td>
          <td md-cell>
            {{peer.status.events.outstanding}}
          </td>
          <td md-cell>
            {{peer.status.events.merge}}
          </td>
          <td md-cell>
            {{Math.round(peer.status.events.merge / peer.status.events.total * 100)}}
          </td>
          <td md-cell>
            {{$ctrl.eventWindow[peer.label]}}
          </td>
          <td md-cell>
            <a ng-href="{{peer.mongoUrl}}">Mongo</a>
          </td>
          <td md-cell>
            <a ng-href="{{peer.logUrl}}">log</a>
          </td>
        </tr>
      </tbody>
    </table>
  </md-table-container>
</div>
