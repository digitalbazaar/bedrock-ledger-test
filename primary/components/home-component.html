<h1>Peers <md-button ng-click="$ctrl.refresh()">Refresh</md-button></h1>
<div>
  <md-table-container>
    <table md-table>
      <tbody md-body>
        <thead md-head>
          <tr md-row>
            <th md-column>
              label
            </th>
            <th md-column>
              publicHostname
            </th>
            <th md-column>
              privateHostname
            </th>
            <th md-column>
              latestBlockHeight
            </th>
            <!-- <th md-column>
              previousBlockHash
            </th> -->
            <th md-column>
              totalEvents
            </th>
            <th md-column>
              consensusEvents
            </th>
            <th md-column>
              outstandingEvents
            </th>
            <th md-column>
              events/sec
            </th>
            <th md-column>
              Mongo
            </th>
            <th md-column>
              Log
            </th>
          </tr>
        </thead>
        <tr md-row ng-repeat="peer in $ctrl.collection.peers">
          <td md-cell>
            {{peer.label}}
          </td>
          <td md-cell>
            {{peer.publicHostname}}
          </td>
          <td md-cell>
            {{peer.privateHostname}}
          </td>
          <td md-cell>
            {{peer.latestBlock.blockHeight}}
          </td>
          <!-- <td md-cell>
            {{peer.latestBlock.previousBlockHash}}
          </td> -->
          <td md-cell>
            {{peer.events.total}}
          </td>
          <td md-cell>
            {{peer.events.consensus}}
          </td>
          <td md-cell>
            {{peer.events.total - peer.events.consensus}}
          </td>
          <td md-cell>
            {{$ctrl.eventsPerSecond(peer.events.consensus, peer.startTime)}}
          </td>
          <td md-cell>
            <a ng-href="{{peer.peer}}">Mongo</a>
          </td>
          <td md-cell>
            <a ng-href="{{peer.log}}">log</a>
          </td>
        </tr>
      </tbody>
    </table>
  </md-table-container>
</div>
<h1>Latest Block from Genesis</h1>
<ul>
  <li>Events: {{$ctrl.collection.peers[0].latestBlock.event.length}}</li>
  <!-- FIXME: need to filter electionResults by Round -->
  <!-- <li>Votes: {{$ctrl.peers[0].latestBlock.electionResult.length}}</li> -->
</ul>
<!-- FIXME: can display large blocks when auto-refreshing -->
<!-- <pre>{{$ctrl.collection.peers[0].latestBlock | json}}</pre> -->
